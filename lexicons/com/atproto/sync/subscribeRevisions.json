{
  "lexicon": 1,
  "id": "com.atproto.sync.subscribeRevisions",
  "defs": {
    "main": {
      "type": "subscription",
      "description": "Stream of repo revisions and identity hints for all hosted repos.",
      "parameters": {
        "type": "params",
        "properties": {
          "cursor": {
            "type": "string",
            "description": "The last seen seq to continue the subscription."
          }
        }
      },
      "message": {
        "schema": {
          "type": "object",
          "description": "Indicates an change in repository revision, identity, or hosting status.",
          "required": ["seq", "did", "rev"],
          "properties": {
            "seq": {
              "type": "string",
              "description": "The sequence tag of this message."
            },
            "did": {
              "type": "string",
              "format": "did",
              "description": "The repository's DID."
            },
            "rev": {
              "type": "string",
              "description": "The repository's latest revision."
            },
            "status": {
              "type": "string",
              "description": "The repository's hosting status.",
              "knownValues": [
                "takendown",
                "suspended",
                "deleted",
                "deactivated"
              ]
            },
            "ident": {
              "type": "string",
              "description": "A token that changes when the repository's underlying identity has been updated."
            }
          }
        }
      },
      "errors": []
    }
  }
}
